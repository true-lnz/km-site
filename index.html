<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Компьютерное моделирование</title>
		<link rel="stylesheet" href="./css/style.css">
</head>

<body>
	<div class="container">
    <div id="menuSlider">
			<div class="menu">
				<div class="menu-header">
					<div id="logo">
						<svg viewBox="0 0 24 24" width="25" height="25">
							<path d="M20.437,4.08,14.665.748a5.345,5.345,0,0,0-5.33,0L3.563,4.08A5.344,5.344,0,0,0,.9,8.7v6.664a5.346,5.346,0,0,0,2.665,4.616l5.772,3.332a5.344,5.344,0,0,0,5.33,0l5.772-3.332A5.346,5.346,0,0,0,23.1,15.359V8.7A5.344,5.344,0,0,0,20.437,4.08Zm-9.6-.734a2.338,2.338,0,0,1,2.33,0L18.6,6.484,13.417,9.478a2.85,2.85,0,0,1-2.834,0L5.4,6.484ZM5.063,17.377A2.338,2.338,0,0,1,3.9,15.359V9.082l5.185,2.993a5.752,5.752,0,0,0,1.417.584v7.857Zm13.874,0L13.5,20.516V12.659a5.752,5.752,0,0,0,1.417-.584L20.1,9.082v6.277A2.338,2.338,0,0,1,18.937,17.377Z" fill="#006eff"/>
						</svg>
						<label for="">Компьютерное моделирование</label>
					</div>
					<div id="toggleButton" onclick="toggleMenu()">
						<svg viewBox="0 0 24 24" width="16" height="16">
							<path d="M10.957,12.354a.5.5,0,0,1,0-.708l4.586-4.585a1.5,1.5,0,0,0-2.121-2.122L8.836,9.525a3.505,3.505,0,0,0,0,4.95l4.586,4.586a1.5,1.5,0,0,0,2.121-2.122Z"/>
						</svg>
					</div>
				</div>	

				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Бортжурналы/Бортжурналы.html'); setContent('Справочная информация');">
					<svg viewBox="0 0 24 24" width="16" height="16">
						<path d="M22.024,2.278A5.5,5.5,0,0,0,17.477,1.1l-3.283.688A4.487,4.487,0,0,0,12,2.854,4.4,4.4,0,0,0,9.845,1.792l-3.361-.7A5.5,5.5,0,0,0,0,6.5v9.792A5.492,5.492,0,0,0,4.493,21.7L10.3,22.847A9.431,9.431,0,0,0,11.994,23a9.658,9.658,0,0,0,1.728-.157L19.484,21.7A5.5,5.5,0,0,0,24,16.293V6.5A5.487,5.487,0,0,0,22.024,2.278ZM10.5,19.829,5.053,18.753A2.5,2.5,0,0,1,3,16.293V6.5A2.507,2.507,0,0,1,5.494,4a2.285,2.285,0,0,1,.414.037l3.361.7A1.5,1.5,0,0,1,10.5,6.212ZM21,16.293a2.506,2.506,0,0,1-2.075,2.464L13.5,19.829V6.212a1.511,1.511,0,0,1,1.271-1.483l3.282-.687A2.5,2.5,0,0,1,21,6.5Z"/>
					</svg>
					<label for="">Журнал</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Лекции/Лекции.html'); setContent('Лекции');">
					<svg viewBox="0 0 24 24" width="16" height="16">
						<path d="M16.5,0h-8A6.508,6.508,0,0,0,2,6.5v13A4.505,4.505,0,0,0,6.5,24h10A5.507,5.507,0,0,0,22,18.5V5.5A5.507,5.507,0,0,0,16.5,0ZM8,3.051V15H6.5a4.445,4.445,0,0,0-1.5.276V6.5A3.494,3.494,0,0,1,8,3.051ZM19,18.5A2.5,2.5,0,0,1,16.5,21H6.5a1.5,1.5,0,0,1,0-3H19ZM11,15V3h5.5A2.5,2.5,0,0,1,19,5.5V15Z"/>
					</svg>
					<label for="">Лекции</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Лабораторные работы/Лабораторные работы.html'); setContent('Лабораторные работы');">
					<svg viewBox="0 0 24 24" width="16" height="16">
						<path d="M17.5,0H8.5c-2.13,0-3.99,1.22-4.9,3h-1.1c-.83,0-1.5,.67-1.5,1.5s.67,1.5,1.5,1.5h.5v2h-.5c-.83,0-1.5,.67-1.5,1.5s.67,1.5,1.5,1.5h.5v2h-.5c-.83,0-1.5,.67-1.5,1.5s.67,1.5,1.5,1.5h.5v2h-.5c-.83,0-1.5,.67-1.5,1.5s.67,1.5,1.5,1.5h1.1c.91,1.78,2.77,3,4.9,3h9c3.03,0,5.5-2.47,5.5-5.5V5.5c0-3.03-2.47-5.5-5.5-5.5ZM6,18.5V5.5c0-1.21,.86-2.22,2-2.45V20.95c-1.14-.23-2-1.24-2-2.45Zm14,0c0,1.38-1.12,2.5-2.5,2.5h-6.5V3h6.5c1.38,0,2.5,1.12,2.5,2.5v13Z"/>
					</svg>
					<label for="">Лабораторные</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Интерактивы/Интерактивы.html'); setContent('Интерактивы');">
					<svg viewBox="0 0 24 24" width="16" height="16">
						<path d="M18.5,0H5.5C2.47,0,0,2.47,0,5.5v13c0,3.03,2.47,5.5,5.5,5.5h13c3.03,0,5.5-2.47,5.5-5.5V5.5c0-3.03-2.47-5.5-5.5-5.5Zm2.5,18.5c0,1.38-1.12,2.5-2.5,2.5H5.5c-1.38,0-2.5-1.12-2.5-2.5V5.5c0-1.38,1.12-2.5,2.5-2.5h13c1.38,0,2.5,1.12,2.5,2.5v13Zm-2-1c0,.83-.67,1.5-1.5,1.5h-7c-.83,0-1.5-.67-1.5-1.5s.67-1.5,1.5-1.5h7c.83,0,1.5,.67,1.5,1.5Zm0-5.5c0,.83-.67,1.5-1.5,1.5H7c-.83,0-1.5-.67-1.5-1.5s.67-1.5,1.5-1.5h10.5c.83,0,1.5,.67,1.5,1.5Zm0-5.5c0,.83-.67,1.5-1.5,1.5h-2c-.83,0-1.5-.67-1.5-1.5s.67-1.5,1.5-1.5h2c.83,0,1.5,.67,1.5,1.5Z"/>
					</svg>
					<label for="">Интерактивы</label>				
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Домашние задания/Домашние задания.html'); setContent('Домашние задания');">
					<svg viewBox="0 0 512.001 512.001" width="16" height="16">
						<g><path d="M490.134,185.472L338.966,34.304c-45.855-45.737-120.076-45.737-165.931,0L21.867,185.472   C7.819,199.445-0.055,218.457,0,238.272v221.397C0.047,488.568,23.475,511.976,52.374,512h407.253   c28.899-0.023,52.326-23.432,52.373-52.331V238.272C512.056,218.457,504.182,199.445,490.134,185.472z M448,448H341.334v-67.883   c0-44.984-36.467-81.451-81.451-81.451c0,0,0,0,0,0h-7.765c-44.984,0-81.451,36.467-81.451,81.451l0,0V448H64V238.272   c0.007-2.829,1.125-5.541,3.115-7.552L218.283,79.552c20.825-20.831,54.594-20.835,75.425-0.01c0.003,0.003,0.007,0.007,0.01,0.01   L444.886,230.72c1.989,2.011,3.108,4.723,3.115,7.552V448z"/></g>
						</svg>
					<label for="">ДЗ</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Расчетно-графические работы/Расчетно-графические работы.htm'); setContent('Расчетно-графические работы');">
					<svg viewBox="0 0 24 24" width="15" height="15">
						<path d="M21,11.5V15H18a3,3,0,0,0-3,3v3H4.5A1.5,1.5,0,0,1,3,19.5V4.5A1.5,1.5,0,0,1,4.5,3h9A1.5,1.5,0,0,0,15,1.5h0A1.5,1.5,0,0,0,13.5,0h-9A4.5,4.5,0,0,0,0,4.5v15A4.5,4.5,0,0,0,4.5,24H16.484a4.5,4.5,0,0,0,3.181-1.317l3.017-3.017A4.5,4.5,0,0,0,24,16.485V11.5A1.5,1.5,0,0,0,22.5,10h0A1.5,1.5,0,0,0,21,11.5Z"/><path d="M17.793,1.793l-12.5,12.5A1,1,0,0,0,5,15v3a1,1,0,0,0,1,1H9a1,1,0,0,0,.707-.293L22.038,6.376a3.379,3.379,0,0,0,.952-3.17A3.118,3.118,0,0,0,17.793,1.793Z"/>
					</svg>
					<label for="">РГР</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Итоговый тест/Итоговый тест.html'); setContent('Итоговый тест');">
					<svg viewBox="0 0 24 24" width="17" height="17">
						<path d="M16.5,0H7.5C4.467,0,2,2.467,2,5.5v13c0,3.033,2.467,5.5,5.5,5.5h9c3.033,0,5.5-2.467,5.5-5.5V5.5c0-3.033-2.467-5.5-5.5-5.5Zm2.5,18.5c0,1.378-1.122,2.5-2.5,2.5H7.5c-1.378,0-2.5-1.122-2.5-2.5V5.5c0-1.378,1.122-2.5,2.5-2.5h9c1.378,0,2.5,1.122,2.5,2.5v13Zm-2-12c0,.829-.671,1.5-1.5,1.5h-2c-1.972-.033-1.971-2.967,0-3h2c.829,0,1.5,.671,1.5,1.5Zm0,5c0,.829-.671,1.5-1.5,1.5h-2c-1.972-.033-1.971-2.967,0-3h2c.829,0,1.5,.671,1.5,1.5Zm0,5c0,.829-.671,1.5-1.5,1.5h-2c-1.972-.033-1.971-2.967,0-3h2c.829,0,1.5,.671,1.5,1.5ZM10,6.5c-.034,1.972-2.967,1.971-3,0,.034-1.972,2.967-1.971,3,0Zm0,5c-.034,1.972-2.967,1.971-3,0,.034-1.972,2.967-1.971,3,0Zm0,5c-.034,1.972-2.967,1.971-3,0,.034-1.972,2.967-1.971,3,0Z"/>
					</svg>
					<label for="">Тест</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Контрольные работы/Контрольные работы.html'); setContent('Контрольные работы');">
					<svg viewBox="0 0 24 24" width="16" height="16">
						<path d="M19.5,13H11V4.5C11,2.019,8.981,0,6.5,0h-2C2.019,0,0,2.019,0,4.5v14c0,3.032,2.467,5.5,5.5,5.5h14c2.481,0,4.5-2.019,4.5-4.5v-2c0-2.481-2.019-4.5-4.5-4.5Zm1.5,6.5c0,.827-.673,1.5-1.5,1.5H5.5c-1.378,0-2.5-1.121-2.5-2.5V4.5c0-.827,.673-1.5,1.5-1.5h2c.827,0,1.5,.673,1.5,1.5v.5h-1.5c-.829,0-1.5,.672-1.5,1.5s.671,1.5,1.5,1.5h1.5v2h-1.5c-.829,0-1.5,.672-1.5,1.5s.671,1.5,1.5,1.5h1.5v1.5c0,.828,.671,1.5,1.5,1.5h1.5v1.5c0,.828,.671,1.5,1.5,1.5s1.5-.672,1.5-1.5v-1.5h2v1.5c0,.828,.672,1.5,1.5,1.5s1.5-.672,1.5-1.5v-1.5h.5c.827,0,1.5,.673,1.5,1.5v2Z"/>
					</svg>
					<label for="">КР</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Боевые награды/Боевые награды.html'); setContent('Боевые награды');">
					<svg viewBox="0 0 24 24" width="17" height="17">
						<path d="M6.852,23.438a3.612,3.612,0,0,1-2.121-.7A3.57,3.57,0,0,1,3.4,18.684L4.57,15.065,1.49,12.813A3.625,3.625,0,0,1,3.63,6.261H7.4l1.145-3.57a3.627,3.627,0,0,1,6.906,0h0L16.6,6.261H20.37a3.625,3.625,0,0,1,2.139,6.552L19.43,15.065,20.6,18.684A3.626,3.626,0,0,1,15,22.719l-3-2.206L9,22.72A3.619,3.619,0,0,1,6.852,23.438ZM3.63,9.261a.626.626,0,0,0-.37,1.131l3.956,2.891a1.5,1.5,0,0,1,.542,1.672l-1.5,4.65a.626.626,0,0,0,.966.7l3.889-2.861a1.5,1.5,0,0,1,1.778,0l3.889,2.86a.625.625,0,0,0,.966-.7l-1.5-4.65a1.5,1.5,0,0,1,.542-1.672l3.955-2.891a.626.626,0,0,0-.369-1.131H15.5a1.5,1.5,0,0,1-1.428-1.042L12.6,3.607a.626.626,0,0,0-1.192,0L9.925,8.219A1.5,1.5,0,0,1,8.5,9.261Z"/>
					</svg>
					<label for="">БН</label>
				</a>
				<a href="javascript:void(0)" onclick="loadContent('./Сайт/Документы/Программы-минимум/05.13.18 Контрольные вопросы.html'); setContent('Контрольные вопросы');">
					<svg viewBox="0 0 24 24" width="16" height="16">
						<path d="M12,16c.828,0,1.5,.672,1.5,1.5s-.672,1.5-1.5,1.5-1.5-.672-1.5-1.5,.672-1.5,1.5-1.5Zm1.405-2.977c.005-.012,.131-.284,.567-.543,1.486-.884,2.258-2.529,1.966-4.192-.283-1.616-1.61-2.943-3.225-3.226-2.165-.373-4.198,1-4.633,3.139-.165,.812,.36,1.604,1.171,1.769,.813,.166,1.604-.359,1.769-1.171,.095-.469,.559-.891,1.175-.781,.382,.066,.721,.405,.788,.789,.114,.648-.388,1.003-.543,1.095-1.396,.828-1.802,1.934-1.87,2.146-.25,.79,.175,1.668,.965,1.918,.158,.05,.317,.073,.473,.073,.625,0,1.197-.384,1.397-1.016Zm10.595,5.477v-6.176c0-3.713-1.618-7.2-4.438-9.567C16.854,.483,13.428-.428,9.908,.188,4.614,1.119,.562,5.518,.056,10.885c-.313,3.311,.733,6.473,2.946,8.904,2.435,2.676,6.092,4.211,10.032,4.211h5.466c3.033,0,5.5-2.468,5.5-5.5Zm-6.367-13.446c2.14,1.797,3.367,4.446,3.367,7.271v6.176c0,1.379-1.122,2.5-2.5,2.5h-5.466c-3.097,0-5.945-1.177-7.813-3.229-1.637-1.8-2.411-4.145-2.179-6.604,.375-3.962,3.48-7.336,7.385-8.022,.539-.095,1.074-.142,1.603-.142,2.052,0,3.999,.705,5.603,2.052Z"/>
					</svg>
					<label for="">Вопросы</label>
				</a>
			</div>
			<div class="menu-footer">
				<div class="theme" data-dark-mode="false" onclick="changeTheme(event)">
					<svg viewBox="0 0 20 20" width="16" height="16" >
						<path d="m10,20c5.52,0,10-4.48,10-10S15.52,0,10,0,0,4.48,0,10s4.48,10,10,10Zm0-3V3c3.68,0,7,3.23,7,7,0,4.02-3.5,7-7,7Z"/>
					</svg>
					<span>Тема: Cветлая</span>
				</div>
				<div class="settings">
					<svg viewBox="0 0 24 24" width="16" height="16">
						<path d="M12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"/><path d="M21.294,13.9l-.444-.256a9.1,9.1,0,0,0,0-3.29l.444-.256a3,3,0,1,0-3-5.2l-.445.257A8.977,8.977,0,0,0,15,3.513V3A3,3,0,0,0,9,3v.513A8.977,8.977,0,0,0,6.152,5.159L5.705,4.9a3,3,0,0,0-3,5.2l.444.256a9.1,9.1,0,0,0,0,3.29l-.444.256a3,3,0,1,0,3,5.2l.445-.257A8.977,8.977,0,0,0,9,20.487V21a3,3,0,0,0,6,0v-.513a8.977,8.977,0,0,0,2.848-1.646l.447.258a3,3,0,0,0,3-5.2Zm-2.548-3.776a7.048,7.048,0,0,1,0,3.75,1,1,0,0,0,.464,1.133l1.084.626a1,1,0,0,1-1,1.733l-1.086-.628a1,1,0,0,0-1.215.165,6.984,6.984,0,0,1-3.243,1.875,1,1,0,0,0-.751.969V21a1,1,0,0,1-2,0V19.748a1,1,0,0,0-.751-.969A6.984,6.984,0,0,1,7.006,16.9a1,1,0,0,0-1.215-.165l-1.084.627a1,1,0,1,1-1-1.732l1.084-.626a1,1,0,0,0,.464-1.133,7.048,7.048,0,0,1,0-3.75A1,1,0,0,0,4.79,8.992L3.706,8.366a1,1,0,0,1,1-1.733l1.086.628A1,1,0,0,0,7.006,7.1a6.984,6.984,0,0,1,3.243-1.875A1,1,0,0,0,11,4.252V3a1,1,0,0,1,2,0V4.252a1,1,0,0,0,.751.969A6.984,6.984,0,0,1,16.994,7.1a1,1,0,0,0,1.215.165l1.084-.627a1,1,0,1,1,1,1.732l-1.084.626A1,1,0,0,0,18.746,10.125Z"/>
					</svg>
				</div>
			</div>
		</div>

    <div id="main">
        <div id="header">
					<div class="search" onclick="toogleSearch();">
						<svg viewBox="0 0 513.749 513.749" width="13" height="13">
								<path d="M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"/>
						</svg>
						<label for="" style="cursor: pointer;">Поиск</label>
						<input type="text" id="searchText">
					</div>
					<div class="links">
						<label class="name">Объявления</label>
					</div>
					<div class="spacer"></div>
				</div>
        <div id="content"></div>
    </div>
</div>

<script>
    // Функция для открытия и закрытия меню
    function toggleMenu() {
			
        let menu = document.getElementById('menuSlider');
        if (menu.style.width === '220px' || menu.style.width === '' || logo.classList.contains('active')) {
						menu.classList.toggle("active");
            menu.style.width = '56px';
        } else {
						menu.classList.toggle("active");
            menu.style.width = '220px';
        }
    }
		function toogleSearch() {
    let searchBar = document.querySelector('.search');
    let inputField = searchBar.querySelector('input');

    // Если в inputField есть текст, не делаем ничего
    if (inputField.value && searchBar.classList.contains('active')) return;

    searchBar.classList.toggle('active');

    // Если searchBar активен, устанавливаем фокус на input
    if(searchBar.classList.contains('active')) {
        inputField.focus();
    }
	}
	document.addEventListener('click', function(event) {
    let searchBar = document.querySelector('.search');
    // Если клик был вне searchBar и inputField не содержит текста
    if (!searchBar.contains(event.target)) {
        searchBar.classList.remove('active');
    }
		// Если клик был не на элементе меню, пропускаем
    if (!event.target.closest('#menuSlider a')) return;

    // Удаляем класс active со всех элементов меню
    document.querySelectorAll('#menuSlider a.active').forEach(function(el) {
        el.classList.remove('active');
    });

    // Добавляем класс active к элементу, по которому произошел клик
    event.target.closest('#menuSlider a').classList.add('active');

		let menu = document.getElementById('menuSlider');
		let logo = document.getElementById('logo');
		if (menu.classList.contains('active')) toogleMenu();
	});
	document.addEventListener('DOMContentLoaded', function() {
    const currentTheme = localStorage.getItem('theme');
    const themeDiv = document.querySelector('.theme');

    if (currentTheme) {
        document.documentElement.setAttribute('data-theme', currentTheme);
        themeDiv.setAttribute('data-dark-mode', currentTheme === 'dark' ? 'true' : 'false');
        themeDiv.querySelector('span').innerText = currentTheme === 'dark' ? 'Тема: Темная' : 'Тема: Светлая';
    }
});

    // Функция для установки контента
    function setContent(contentTitle) {
				document.querySelector('.name').textContent = contentTitle;
    }

		function loadContent(pageUrl) {
    fetch(pageUrl, {
        headers: {
            "Accept-Charset": "UTF-8"
        }
    })
    .then(response => {
        if (response.ok) {
            return response.text();
        } else {
            // Выбрасываем ошибку, чтобы она была обработана в последующем catch
            throw new Error('<b>Ошибка загрузки:</b> страница <i>"' + pageUrl + '"</i> не найдена.');
        }
    })
    .then(content => {
        document.getElementById('content').innerHTML = content;
    })
    .catch(error => {
        console.error('Ошибка загрузки контента:', error);
        document.getElementById('content').innerHTML = error.message;
    });
		}
		function changeTheme(event) {
    const themeDiv = event.target.closest('.theme');
    const isDark = themeDiv.getAttribute('data-dark-mode') === 'true';

    if (isDark) {
        document.documentElement.setAttribute('data-theme', 'light');
        themeDiv.setAttribute("data-dark-mode", "false");
        themeDiv.querySelector('span').innerText = 'Тема: Светлая';
        localStorage.setItem('theme', 'light');
    } else {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeDiv.setAttribute("data-dark-mode", "true");
        themeDiv.querySelector('span').innerText = 'Тема: Темная';
        localStorage.setItem('theme', 'dark');
    }
	}

	let data = [];

	fetch('data.json')
    .then(response => response.json())
    .then(json => {
        data = json;
        console.log(data);
    })
    .catch(error => console.error('Ошибка загрузки JSON:', error));


document.getElementById('searchText').addEventListener('input', function(e) {
    const query = e.target.value.toLowerCase();
    let results = '';

    data.forEach(item => {
        if (item.content.toLowerCase().includes(query)) {
            results += `<a href="${item.url}">${item.title}</a><br>`;
        }
    });

    document.getElementById('content').innerHTML = results;
});


</script>

</body>
</html>
